<!DOCTYPE html>

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Off the Beaten Path</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"
        integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>

    <!-- Bootstrap CDN -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>

    <!-- Backstretch CDN -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-backstretch/2.0.4/jquery.backstretch.min.js"></script>

    <!-- CSS Links -->
    <link rel="stylesheet" media="screen" href="css/reset.css" />
    <link rel="stylesheet" media="screen" href="css/style.css" />
    <link href="https://fonts.googleapis.com/css?family=Covered+By+Your+Grace" rel="stylesheet">

</head>

<body>

    <!-- Biome Div -->
    <div id="biomeDiv">
        <h1>Choose your biome</h1>
        <div class="flex-container" id="biomesDivImgs">

            <div class="wrapper" id="desert">
                <img class="biomeImage" id="desert" src="images/desert.jpg">
                <p class="text" id="desert">Desert</p>
            </div>

            <div class="wrapper" id="forest">
                <img class="biomeImage" id="forest" src="images/forest.jpg">
                <p class="text" id="forest">Forest</p>
            </div>

            <div class="wrapper" id="grassland">
                <img class="biomeImage" id="grassland" src="images/grassland.jpg">
                <p class="text" id="grassland">Grassland</p>
            </div>

            <div class="wrapper" id="rainforest">
                <img class="biomeImage" id="rainforest" src="images/rainforest.jpg">
                <p class="text" id="rainforest">Rainforest</p>
            </div>

            <div class="wrapper" id="taiga">
                <img class="biomeImage" id="taiga" src="images/taiga.jpg">
                <p class="text" id="taiga">Taiga</p>
            </div>

            <div class="wrapper" id="tropical">
                <img class="biomeImage" id="tropical" src="images/tropical.jpg">
                <p class="text" id="tropical">Tropical</p>
            </div>


            <div class="wrapper" id="tundra">
                <img class="biomeImage" id="tundra" src="images/tundra.jpg">
                <p class="text" id="tundra">Tundra</p>
            </div>

        </div>
    </div>

    <!-- Q1 Div -->
    <div id="q1Div">
        <h1>Which activity is most appealing to you?</h1>
        <div class="flex-container" id="q1DivImgs">

            <div class="q1Wrapper" id="skydivingWrapper">
                <img class="q1Image" id="skydiving" src="images/q1/q1-1.jpg">
                <p class="text">Skydiving</p>
            </div>

            <div class="q1Wrapper" id="sunbathingWrapper">
                <img class="q1Image" id="sunbathing" src="images/q1/q1-2.jpg">
                <p class="text">Sunbathing</p>
            </div>

            <div class="q1Wrapper" id="hikingWrapper">
                <img class="q1Image" id="hiking" src="images/q1/q1-3.jpg">
                <p class="text">Hiking</p>
            </div>

            <div class="q1Wrapper" id="clubbingWrapper">
                <img class="q1Image" id="clubbing" src="images/q1/q1-4.png">
                <p class="text">Clubbing</p>
            </div>

            <div class="q1Wrapper" id="sightseeingWrapper">
                <img class="q1Image" id="sightseeing" src="images/q1/q1-5.jpg">
                <p class="text">Sightseeing</p>
            </div>

        </div>
    </div>


    <!-- Q2 Div -->
    <div id="q2Div">
        <h1>City or Country?</h1>
        <div class="flex-container" id="q2DivImgs">

            <div class="q2Wrapper" id="cityWrapper">
                <img class="q2Image" id="city" src="images/q2/city.jpg">
                <p class="text">City</p>
            </div>

            <div class="q2Wrapper" id="countryWrapper">
                <img class="q2Image" id="country" src="images/q2/country.jpg">
                <p class="text">Country</p>
            </div>


        </div>
    </div>

    <!-- Budget Div -->

    <div id="budgetDiv">
        <h1>What's your budget?</h1>
        <div class="flex-container" id="budgetDivImgs">

            <div class="budgetWrapper" id="lowCost">
                <img class="budgetImage" id="lowCost" src="images/budget/low.jpg">
                <p class="text" id="lowCost">$</p>
            </div>

            <div class="budgetWrapper" id="midCost">
                <img class="budgetImage" id="midCost" src="images/budget/med.jpg">
                <p class="text" id="midCost">$$</p>
            </div>

            <div class="budgetWrapper" id="highCost">
                <img class="budgetImage" id="highCost" src="images/budget/high.jpg">
                <p class="text" id="highCost">$$$</p>
            </div>

        </div>
    </div>


    <!-- Submit Modal -->
    <div id="addmodal" class="modal fade" role="dialog">
        <div class="modal-dialog modal-lg" class="modal-dialog modal-dialog-centered"
            class="modal-dialog modal-dialog-scrollable ">

            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-head">
                    <h4 class="modal-title">Ready?</h4>
                    <br>
                    <p>Submit your answers see where you should travel off the beaten path!</p>
                </div>
                <div class="modal-body">
                    <center>
                        <button type="button" class="btn-9" data-dismiss="modal" id="surveySum">Show Me!</button>
                    </center>
                </div>
            </div>
        </div>

    </div>
    </div>
</body>

</html>

<script>

    $.backstretch('images/botany-dark-green-plants-fern-1687341.jpg');

    let userdata = {
        biome_choice: "",
        price_choice: ""
    };

    // Biome Click Event
    $('.wrapper').on('click', function () {
        $("#biomeDiv").hide();
        $("#q1Div").show();
        userdata.biome_choice = this.id;
    });

    //Q1 Click Event
    $('.q1Wrapper').on('click', function () {
        $("#q1Div").hide();
        $("#q2Div").show();
    });

    //Q2 Click Event
    $('.q2Wrapper').on('click', function () {
        $("#q2Div").hide();
        $("#budgetDiv").show();
    });

    //Budget Click Event
    $('.budgetWrapper').on('click', function () {
        $("#budgetDiv").hide();
        $("#addmodal").modal('show');
        userdata.price_choice = this.id;
    });

    //Submit Button to post user data
    $('#surveySum').on('click', function () {
        $.post('/api/users', userdata).then(function () {
            window.location.href = "/results";
            console.log(userdata);
        });
    });
</script>